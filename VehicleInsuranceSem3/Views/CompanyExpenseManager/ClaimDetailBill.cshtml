@model VehicleInsuranceSem3.BLL.ViewModel.ClaimBillViewModel

<div class="container" id="pdf">
    @if (Model != null)
    {

        <h1>---Claim Detail Bill---</h1>
        <hr />
        <form>
            <label>Customer Policy ID:   <strong>@Model.CustomerPolicyId</strong> </label>
            <br />
            <label>Customer Name:   <strong>@Model.CustomerName</strong> </label>
            <br />
            <label>Policy Name:   <strong>@Model.PolicyName</strong>  </label>
            <br />
            <label>Vehicle Name:   <strong>@Model.VehicleName</strong>  </label>
            <br />
            <label>Policy Start Date:   <strong>@Model.StartDate</strong> </label>
            <br />
            <label>Policy End Date:   <strong>@Model.EndDate</strong> </label>
            <br />
            <label>Claim Name:   <strong>@Model.ClaimName</strong> </label>
            <br />
            <label>Accident Place:   <strong>@Model.AccidentPlace</strong> </label>
            <br />
            <label>Accident Date:   <strong>@Model.AccidentDate</strong> </label>
            <br />
            <label>Insured Amount:   <strong>@Model.Insured</strong> &#36; </label>
            <br />
            <label>Claimable Amount:   <strong>@Model.Claim</strong> &#36; </label>
        </form>
        <br />
        <br />
        <hr />


    }
    <br />
    <br />
    <div class="container">
        <div>
            <span>[ Bill Recipient's Name ]</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   <span>[ Company Representative: ]</span>
        </div>
        <br />
        <br />
        <br />
        <br />
        <br />
        <div>
            <span>[ Manager's Signature: ]</span>
        </div>
    </div>
</div>

<br />
<br />
<br />
<br />
<br />
<br />
<button onclick="printDiv('pdf','Title')">Print Bill</button>
<button onclick="saveDiv('pdf', 'Title')">Save as pdf</button> &nbsp;
<a href="@Url.Action("CLaimDetailManager","CompanyExpenseManager")">Return to Claim Detail Manager</a>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.5.0-beta4/html2canvas.min.js"></script>

<script>

    var doc = new jsPDF('p', 'mm', [297, 600]);

    function saveDiv(divId, title) {
        doc.fromHTML('<html><head><title>${title}</title></head><body>' + document.getElementById('pdf').innerHTML + '</body></html>');
        doc.save('ClaimDetailBill.pdf');
    };


    function printDiv(divId,
        title) {

        let mywindow = window.open('', 'PRINT', 'height=650,width=900,top=100,left=150');

        mywindow.document.write(`<html><head><title>${title}</title>`);
        mywindow.document.write('</head><body>');
        mywindow.document.write(document.getElementById(divId).innerHTML);
        mywindow.document.write('</body></html>');

        mywindow.document.close(); // necessary for IE >= 10
        mywindow.focus(); // necessary for IE >= 10*/

        mywindow.print();
        //mywindow.close();

        return true;
    };
</script>

